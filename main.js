(()=>{"use strict";var e={templateSelector:".template-element",elementSelector:".element",titleSelector:".element__title",imageSelector:".element__image",likeCountSelector:".element__like-count",likeButtonSelector:".element__like-button",deleteButtonSelector:".element__delete-button",likeActiveClass:"button_like-active",hiddenButtonClass:"button_hidden"},t={closeButtonSelector:".popup__close-button",openClass:"popup_opened",containerClass:"popup__container"};function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=t.closeButtonSelector,o=t.openClass,i=t.containerClass,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._closeButton=this._popup.querySelector(r),this._animationDuration=1e3*parseFloat(getComputedStyle(this._popup).transitionDuration),this._handleEscClose=this._handleEscClose.bind(this)}var t,a;return t=e,(a=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add(o)}},{key:"close",value:function(){this._popup.classList.remove(o),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_overlayClickCallback",value:function(e){(e.target==this._popup||e.target.classList.contains(i))&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){return e.close()})),this._popup.addEventListener("click",(function(t){return e._overlayClickCallback(t)}))}}])&&n(t.prototype,a),e}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d={formSelector:".form",inputSelector:".field__input",submitButtonSelector:".button_type_submit"},_=d.formSelector,m=d.inputSelector,y=d.submitButtonSelector,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function a(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Сохранение...";return s(this,a),(r=i.call(this,e))._form=r._popup.querySelector(_),r._inputs=Array.from(r.formElement.querySelectorAll(m)),r._submitButton=r.formElement.querySelector(y),r._submitButtonText=n,r._submitButton.textContent=n,r._submitHandler=t,r._loadingText=o,r.setEventListeners(),r}return t=a,(n=[{key:"getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){return e[t.name]=t.value})),e}},{key:"setInputValues",value:function(e){this._inputs.forEach((function(t){e[t.name]&&(t.value=e[t.name])}))}},{key:"close",value:function(){var e=this;c(h(a.prototype),"close",this).call(this),setTimeout((function(){return e.formElement.reset()}),this._animationDuration)}},{key:"setEventListeners",value:function(){return c(h(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._submitHandler),this}},{key:"renderLoading",value:function(e){this._submitButton.textContent=e?this._loadingText:this._submitButtonText}},{key:"formElement",get:function(){return this._form}}])&&l(t.prototype,n),a}(a);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L={imageSelector:".picture__image",descriptionSelector:".picture__description"},w=L.imageSelector,B=L.descriptionSelector,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).image=t._popup.querySelector(w),t.description=t._popup.querySelector(B),t}return t=a,(n=[{key:"open",value:function(e){var t=e.title,n=e.link;this.image.src=n,this.image.alt=t,this.description.textContent=t,k(C(a.prototype),"open",this).call(this)}},{key:"close",value:function(){k(C(a.prototype),"close",this).call(this)}},{key:"_clear",value:function(){this.image.src="",this.image.alt="",this.description.textContent=""}}])&&g(t.prototype,n),a}(a);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=".message-box__text",H=t.openClass,V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(o){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function a(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7e3;return I(this,a),x((t=T(n=i.call(this,e)),D(a.prototype)),"setEventListeners",t).call(t),n._textElement=n._popup.querySelector(A),n._durationTime=r,n}return t=a,(n=[{key:"open",value:function(e){var t=this;clearTimeout(this._timerId),this._textElement.textContent=e,this._timerId=setTimeout((function(){return t._closeCallback()}),this._durationTime),this._popup.classList.contains(H)||x(D(a.prototype),"open",this).call(this)}},{key:"_closeCallback",value:function(){this._popup.classList.contains(H)&&this.close()}}])&&j(t.prototype,n),a}(a);function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=e.elementSelector,N=e.titleSelector,J=e.imageSelector,z=e.likeActiveClass,F=e.likeButtonSelector,G=e.deleteButtonSelector,K=e.likeCountSelector,Q=e.hiddenButtonClass,W=function(){function e(t,n,r){var o=r.clickHandler,i=r.deleteHandler,a=r.likeHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._clickHandler=o.bind(this),this._deleteHandler=i.bind(this),this._likeHandler=a.bind(this),this._data=n,this._isLiked=!1,this._template=document.querySelector(t).content.querySelector(U)}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._template.cloneNode(!0)}},{key:"configureCard",value:function(){return this._element=this._getTemplate(),this._title=this._element.querySelector(N),this._image=this._element.querySelector(J),this._likeButton=this._element.querySelector(F),this._deleteButton=this._element.querySelector(G),this._likeCountElement=this._element.querySelector(K),this.setProperties(this._data),this._setListeners(),this}},{key:"getElement",value:function(){return this._element}},{key:"changeLikeCount",value:function(e){return this._likeCountElement.textContent=e,this}},{key:"changeLikeButtonState",value:function(e,t){var n=e.likes;return this.changeLikeCount(n.length),t?this._setLike():this._removeLike(),this._isLiked=t,this}},{key:"changeDeleteButtonState",value:function(e){return e?this._enableDeleteButton():this._disableDeleteButton(),this}},{key:"setProperties",value:function(e){var t=e.name,n=e.link,r=e.likes,o=e._id;return this._image.src=n,this._image.alt=t,this._title.textContent=t,this._likeCountElement.textContent=r.length,this._id=o,this}},{key:"_setLike",value:function(){this._likeButton.classList.add(z),this._isLiked=!0}},{key:"_removeLike",value:function(){this._likeButton.classList.remove(z),this._isLiked=!1}},{key:"_enableDeleteButton",value:function(){return this._deleteButton.classList.remove(Q),this._deleteButton.addEventListener("click",this._deleteHandler),this}},{key:"_disableDeleteButton",value:function(){return this._deleteButton.classList.add(Q),this._deleteButton.removeEventListener("click",this._deleteHandler),this}},{key:"_setListeners",value:function(){var e=this;this._image.addEventListener("click",(function(){return e._clickHandler(e._title.textContent,e._image.src)})),this._likeButton.addEventListener("click",this._likeHandler)}}])&&M(t.prototype,n),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t),this._about=document.querySelector(n),this._avatarImage=document.querySelector(r),this._id=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent.trim(),job:this._about.textContent.trim()}}},{key:"setName",value:function(e){return this._name.textContent=e,this}},{key:"setId",value:function(e){return this._id=e,this}},{key:"setAbout",value:function(e){return this._about.textContent=e,this}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar,o=e._id;return this.setName(t),this.setAbout(n),this.setAvatarImage(r),this.setId(o),this}},{key:"setAvatarImage",value:function(e){return this._avatarImage.src=e,this._avatarImage.alt=this._name,this}}])&&X(t.prototype,n),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(t,n){var r=t.items,o=void 0===r?[]:r,i=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderItems=o,this._renderer=i,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this.clear(),this._renderItems.forEach((function(t){return e._renderer(t)}))}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"prependItem",value:function(e){this._container.prepend(e)}}])&&Z(t.prototype,n),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(t,n){var r=t.inputSelector,o=t.submitButtonSelector,i=t.inactiveButtonClass,a=t.inputErrorClass,u=t.errorClass;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._inputs=Array.from(this._form.querySelectorAll(r)),this._submitButton=this._form.querySelector(o),this._inactiveButtonClass=i,this._inputErrorClass=a,this._errorClass=u}var t,n;return t=e,(n=[{key:"_checkValidation",value:function(){return!this._inputs.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.classList.add(this._errorClass),t.textContent=e.validationMessage}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_toggleButtonState",value:function(){this._checkValidation()?(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.removeAttribute("disabled")):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.setAttribute("disabled",!0))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"clearErrors",value:function(){var e=this;this._inputs.forEach((function(t){return e._hideInputError(t)})),this._toggleButtonState()}},{key:"enableValidation",value:function(){var e=this;this._form.addEventListener("input",(function(t){e._inputs.includes(t.target)&&e._checkInputValidity(t.target),e._toggleButtonState()})),this._form.addEventListener("keydown",(function(t){"Enter"===t.key&&e._inputs.forEach((function(t){return e._checkInputValidity(t)}))}))}}])&&ee(t.prototype,n),e}();function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var re=function(){function e(t){var n=t.baseUrl,r=t.headers,o=t.errorHandler;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r,this._errorHandler=o}var t,n;return t=e,(n=[{key:"sendRequest",value:function(e){var t=e.path,n=e.method,r=void 0===n?"GET":n,o=e.body,i=e.errorMessage;return fetch(new URL(t,this._baseUrl),{method:r,headers:this._headers,body:o}).then((function(e){return e.ok?e.json():Promise.reject("".concat(i,". Код ошибки: ").concat(e.status))}))}},{key:"getInitialCards",value:function(){return this.sendRequest({path:"cards",errorMessage:"При запросе карточек произошла ошибка"})}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return this.sendRequest({path:"cards",method:"POST",body:JSON.stringify({name:t,link:n}),errorMessage:"При добавлении карточки произошла ошибка"})}},{key:"deleteCard",value:function(e){return this.sendRequest({path:"cards/".concat(e),method:"DELETE",errorMessage:"При удалении карточки произошла ошибка"})}},{key:"setLike",value:function(e){return this.sendRequest({path:"cards/likes/".concat(e),method:"PUT",errorMessage:"При попытке поставить like произошла ошибка"})}},{key:"removeLike",value:function(e){return this.sendRequest({path:"cards/likes/".concat(e),method:"DELETE",errorMessage:"При попытке убрать like произошла ошибка"})}},{key:"getProfileData",value:function(){return this.sendRequest({path:"users/me",errorMessage:"При получении данных профиля произошла ошибка"})}},{key:"editProfile",value:function(e){var t=e.name,n=e.about;return this.sendRequest({path:"users/me",method:"PATCH",body:JSON.stringify({name:t,about:n}),errorMessage:"При редактировании профиля произошла ошибка"})}},{key:"changeAvatar",value:function(e){return this.sendRequest({path:"users/me/avatar",method:"PATCH",body:JSON.stringify({avatar:e}),errorMessage:"При обновлении аватара произошла ошибка"})}}])&&ne(t.prototype,n),e}(),oe={formSelector:".form",inputSelector:".field__input",submitButtonSelector:".button_type_submit",inactiveButtonClass:"button_type_submit-disabled",inputErrorClass:"field__input_error",errorClass:"field__error-message_visible"},ie={editPopupSelector:".popup_edit-profile",addPopupSelector:".popup_add-element",imagePopupSelector:".popup_full-size-image",messagePopupSelector:".popup_message",confirmPopupSelector:".popup_confirm",changeAvatarPopupSelector:".popup_change-avatar"},ae=ie.editPopupSelector,ue=ie.addPopupSelector,se=ie.imagePopupSelector,le=ie.confirmPopupSelector,ce=ie.changeAvatarPopupSelector,fe={editProfileButtonSelector:".profile__edit-button",addElementButtonSelector:".profile__add-button",editAvatarButtonSelector:".profile__edit-avatar-button"},pe=fe.editProfileButtonSelector,he=fe.addElementButtonSelector,de=fe.editAvatarButtonSelector,_e=e.templateSelector,me={nameSelector:".profile__name",aboutSelector:".profile__about",avatarImageSelector:".profile__avatar"},ye=me.nameSelector,ve=me.aboutSelector,be=me.avatarImageSelector;function ge(e,t){var n=new te(e,t);return n.enableValidation(),n}var ke=new V(ie.messagePopupSelector),Se=function(e,t,n){return e.then((function(e){return t(e)})).catch((function(e){e instanceof TypeError?ke.open("Потеряно соединение с сервером, повторите попытку позднее"):"string"==typeof e?ke.open(e):ke.open("Непредвиденная ошибка, повторите попытку позднее"),n&&n()}))},Ee=new re({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-19/",headers:{authorization:"596d7363-2740-4a9e-a1e0-755165feb3a1","Content-Type":"application/json; charset=utf-8"},errorHandler:Se}),Ce=new Y(ye,ve,be);Se(Ee.getProfileData(),(function(e){Ce.setUserInfo(e)}));var Le=new v(ae,(function(e){e.preventDefault(),Le.renderLoading(!0);var t=Le.getInputValues(),n=t.nameInput,r=t.jobInput;Se(Ee.editProfile({name:n,about:r}),(function(e){var t=e.name,n=e.about;Ce.setName(t).setAbout(n),Le.close()})).finally((function(){Le.renderLoading(!1)}))}),"Сохранить"),we=ge(oe,Le.formElement);document.querySelector(pe).addEventListener("click",(function(){var e=Ce.getUserInfo(),t=e.name,n=e.job;Le.setInputValues({nameInput:t,jobInput:n}),we.clearErrors(),Le.open()}));var Be=new v(ce,(function(e){e.preventDefault();var t=Be.getInputValues().avatarInput;Be.renderLoading(!0),Se(Ee.changeAvatar(t),(function(e){var t=e.avatar;Ce.setAvatarImage(t),Be.close()})).finally((function(){Be.renderLoading(!1)}))}),"Сохранить"),Pe=ge(oe,Be.formElement);document.querySelector(de).addEventListener("click",(function(){Pe.clearErrors(),Be.open()}));var Oe=new v(ue,(function(e){e.preventDefault(),Oe.renderLoading(!0);var t=Oe.getInputValues(),n=t.titleInput,r=t.linkInput;Se(Ee.addCard({name:n,link:r}),(function(e){Te.prependItem(qe(e).changeDeleteButtonState(!0).getElement()),Oe.close()})).finally((function(){Oe.renderLoading(!1)}))}),"Добавить"),Ie=ge(oe,Oe.formElement);document.querySelector(he).addEventListener("click",(function(){Ie.clearErrors(),Oe.open()}));var je=new P(se);je.setEventListeners();var Re=new v(le,(function(e){e.preventDefault(),Re.renderLoading(!0),Se(Ee.deleteCard(Re._cardElement._id),(function(){Re._cardElement._element.remove(),Re.close()})).finally((function(){Re.renderLoading(!1)}))}),"Да"),qe=function(e){return new W(_e,e,{likeHandler:function(){var e=this;this._isLiked?Se(Ee.removeLike(this._id),(function(t){e.changeLikeButtonState(t,t.likes.some((function(e){return e._id==Ce._id})))})):Se(Ee.setLike(this._id),(function(t){e.changeLikeButtonState(t,t.likes.some((function(e){return e._id==Ce._id})))}))},deleteHandler:function(){Re._cardElement=this,Re.open()},clickHandler:function(e,t){return je.open({title:e,link:t})}}).configureCard()},Te=new $({renderer:function(e){Te.prependItem(qe(e).getElement())}},".elements");Te.renderItems(),Se(Ee.getInitialCards(),(function(e){return e.forEach((function(e){var t=qe(e);t.changeLikeButtonState(e,e.likes.some((function(e){return Ce._id===e._id}))),t.changeDeleteButtonState(e.owner._id==Ce._id),Te.addItem(t.getElement())}))}))})();